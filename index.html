<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NEURAL-CHRONO // UNIVERSAL</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;900&family=JetBrains+Mono:wght@100;400&display=swap" rel="stylesheet">
    <style>
        :root {
            --accent: #00f2fe;
            --danger: #ff0055;
            --bg: #020205;
        }

        body, html {
            margin: 0; padding: 0; height: 100%; width: 100%;
            background: var(--bg);
            color: white;
            font-family: 'JetBrains Mono', monospace;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            perspective: 1200px;
            touch-action: none; /* Prevents mobile scrolling while interacting */
        }

        canvas#bg-canvas {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 1;
        }

        /* Responsive HUD Container */
        #hud-frame {
            position: relative;
            z-index: 10;
            width: 90vw;
            max-width: 950px;
            height: auto;
            min-height: 60vh;
            background: rgba(0, 242, 254, 0.03);
            border: 1px solid rgba(0, 242, 254, 0.3);
            backdrop-filter: blur(15px);
            padding: 20px;
            box-shadow: 0 0 50px rgba(0,0,0,1);
            transform-style: preserve-3d;
            display: flex;
            flex-direction: column;
            clip-path: polygon(0 5%, 5% 0, 95% 0, 100% 5%, 100% 95%, 95% 100%, 5% 100%, 0 95%);
        }

        /* Top Bar */
        .header-row {
            display: flex;
            justify-content: space-between;
            font-size: 0.6rem;
            border-bottom: 1px solid rgba(0, 242, 254, 0.2);
            padding-bottom: 8px;
            margin-bottom: 15px;
            letter-spacing: 2px;
        }

        /* Responsive Grid */
        .main-layout {
            display: grid;
            grid-template-columns: 1fr 2fr 1fr;
            gap: 15px;
            flex-grow: 1;
        }

        /* Center Digital Display */
        .center-display {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        #digital-time {
            font-family: 'Orbitron', sans-serif;
            font-size: clamp(2.5rem, 10vw, 6rem); /* Adjusts size based on screen */
            font-weight: 900;
            text-shadow: 0 0 25px var(--accent);
        }

        #milliseconds {
            font-size: 1.2rem;
            color: var(--danger);
        }

        /* New Year Countdown */
        .countdown-strip {
            margin-top: 20px;
            border-top: 1px solid var(--danger);
            padding: 15px;
            text-align: center;
        }

        #countdown-clock {
            font-family: 'Orbitron', sans-serif;
            font-size: clamp(1.2rem, 5vw, 2.5rem);
            color: var(--danger);
            text-shadow: 0 0 15px var(--danger);
        }

        /* Sidebar content hide on very small phones */
        .side-panel {
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        /* MOBILE OPTIMIZATIONS */
        @media (max-width: 768px) {
            .main-layout {
                grid-template-columns: 1fr; /* Stack into one column */
            }
            .side-panel {
                text-align: center;
                font-size: 0.7rem;
            }
            .analog-mini { display: none; } /* Hide analog on small mobile to save space */
            #hud-frame { padding: 15px; }
        }

        .analog-mini {
            width: 100px; height: 100px;
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 50%;
            position: relative;
            margin: 10px auto;
        }
        .hand { position: absolute; bottom: 50%; left: 50%; transform-origin: bottom center; background: white; }
        #sec-h { width: 1px; height: 40px; background: var(--danger); }
        #min-h { width: 2px; height: 35px; background: var(--accent); }
        #hor-h { width: 4px; height: 25px; background: #fff; }
    </style>
</head>
<body>

<canvas id="bg-canvas"></canvas>

<div id="hud-frame">
    <div class="header-row">
        <span>SYS_STATUS: ONLINE</span>
        <span id="header-date">-- --- ----</span>
    </div>

    <div class="main-layout">
        <div class="side-panel">
            <div style="color: var(--accent); font-size: 0.6rem;">ENERGY_LEVEL</div>
            <div id="bat-text">--%</div>
            <div id="day-text" style="margin-top: 10px;">WEDNESDAY</div>
        </div>

        <div class="center-display">
            <div style="display: flex; align-items: baseline;">
                <span id="digital-time">00:00:00</span>
                <span id="milliseconds">.000</span>
            </div>
            <div class="analog-mini">
                <div class="hand" id="hor-h"></div>
                <div class="hand" id="min-h"></div>
                <div class="hand" id="sec-h"></div>
            </div>
        </div>

        <div class="side-panel">
            <div style="color: var(--accent); font-size: 0.6rem;">NETWORK_LOC</div>
            <div>DURBAN_ZA</div>
            <div style="font-size: 0.5rem; opacity: 0.5; margin-top: 5px;">LAT: -29.85<br>LNG: 31.02</div>
        </div>
    </div>

    <div class="countdown-strip">
        <div style="font-size: 0.6rem; color: var(--danger); margin-bottom: 5px;">NEW YEAR PROTOCOL 2026</div>
        <div id="countdown-clock">00:00:00:00</div>
    </div>
</div>

<script>
$(document).ready(function() {
    // 1. Particle Background
    const canvas = document.getElementById('bg-canvas');
    const ctx = canvas.getContext('2d');
    let stars = [];
    function init() {
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        stars = [];
        for(let i=0; i<60; i++) stars.push({x: Math.random()*canvas.width, y: Math.random()*canvas.height, s: Math.random()});
    }
    function draw() {
        ctx.fillStyle = '#020205'; ctx.fillRect(0,0,canvas.width, canvas.height);
        ctx.fillStyle = 'rgba(0, 242, 254, 0.4)';
        stars.forEach(s => {
            ctx.beginPath(); ctx.arc(s.x, s.y, s.s, 0, Math.PI*2); ctx.fill();
            s.y -= 0.2; if(s.y < 0) s.y = canvas.height;
        });
        requestAnimationFrame(draw);
    }
    init(); draw();
    window.addEventListener('resize', init);

    // 2. Interactive Parallax (Mouse & Touch)
    function handleMove(e) {
        let pageX = e.pageX || e.originalEvent.touches[0].pageX;
        let pageY = e.pageY || e.originalEvent.touches[0].pageY;
        let x = -(window.innerWidth / 2 - pageX) / 50;
        let y = (window.innerHeight / 2 - pageY) / 50;
        $('#hud-frame').css('transform', `rotateY(${x}deg) rotateX(${y}deg)`);
    }
    $(document).on('mousemove touchmove', handleMove);

    // 3. Main Loop
    function update() {
        const now = new Date();
        const h = now.getHours(), m = now.getMinutes(), s = now.getSeconds(), ms = now.getMilliseconds();
        
        // Digital & Analog (User's Original Logic included)
        $('#digital-time').text(`${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`);
        $('#milliseconds').text(`.${String(ms).padStart(3,'0')}`);
        
        $("#sec-h").css("transform", `rotate(${s * 6}deg)`);
        $("#min-h").css("transform", `rotate(${m * 6}deg)`);
        $("#hor-h").css("transform", `rotate(${(h % 12) * 30 + m / 2}deg)`);

        // Header Date
        const days = ["SUN", "MON", "TUE", "WED", "THU", "FRI", "SAT"];
        const months = ["JAN", "FEB", "MAR", "APR", "MAY", "JUN", "JUL", "AUG", "SEP", "OCT", "NOV", "DEC"];
        $('#header-date').text(`${now.getDate()} ${months[now.getMonth()]} ${now.getFullYear()}`);
        $('#day-text').text(days[now.getDay()]);

        // Countdown
        const diff = new Date("Jan 1, 2026 00:00:00") - now;
        if(diff > 0) {
            const days = Math.floor(diff / 86400000);
            const hours = Math.floor((diff % 86400000) / 3600000);
            const mins = Math.floor((diff % 3600000) / 60000);
            const secs = Math.floor((diff % 60000) / 1000);
            $('#countdown-clock').text(`${days}D:${String(hours).padStart(2,'0')}H:${String(mins).padStart(2,'0')}M:${String(secs).padStart(2,'0')}S`);
        } else {
            $('#countdown-clock').text("2026 PROTOCOL: ACTIVE").css('color', 'var(--accent)');
        }

        requestAnimationFrame(update);
    }

    // 4. Battery
    if(navigator.getBattery) {
        navigator.getBattery().then(b => {
            const u = () => $('#bat-text').text(Math.floor(b.level * 100) + '%');
            u(); b.onlevelchange = u;
        });
    }

    update();
});
</script>
</body>
</html>